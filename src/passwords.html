<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>passwords</title>
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,400i,600|Roboto:300,400,700" >
    <style type="text/css">
      body {  
        margin:35px 20px;
        font:menu;
      }

      .flex-cont {
        display: flex;
        flex-wrap: wrap;
      }

      #keyword1[type="text"] + div #eye-open1{
        display: none;
      }

      #keyword1[type="password"] + div #eye-closed1{
        display: none;
      }

      #keyword2[type="text"] + div #eye-open2{
        display: none;
      }

      #keyword2[type="password"] + div #eye-closed2{
        display: none;
      }

      button, .btn {
        background: #000;
        border: 0;
        color: #fff;
        margin: 0;
        padding: 0px 16px;
        text-transform: uppercase;
        border-radius: 3px;
        vertical-align:middle;
        font-size: 14px;
        line-height:32px;
        margin-bottom:20px;
      }

      #reveal1, #reveal2, #copy {
          vertical-align: middle;
          border-top-left-radius: 0;
          border-bottom-left-radius: 0;
          margin-left: -42px;
          background: transparent;
      }

      input {
        vertical-align: middle;
        margin:0;
        padding:0;
        box-sizing:border-box;
        border: 1px solid #000;
        width: 250px;
        line-height:30px;
        font-size: 14px;
        margin-bottom:20px;
        padding-left:5px;
      }

      label, h2 {
        text-transform:uppercase;
        width: 100%;
      }

      #output {
        font-family: monospace;
      }
      svg{
        display: block;
      }
      svg path{
        fill: #000;
      }
    </style>
</head>

<body>
    <main class="main">   


          <div class="flex-cont">
            <label>Name of the website:</label>
            <input id="website" type="text" placeholder="facebook">
          </div>
          
          <div class="flex-cont">
            <label>Memorable Keyword 1:</label>
            <input id="keyword1" type="password" placeholder="monkey">
            <div class="btn" id="reveal1">
              <svg id="eye-open1" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="32" viewBox="0 0 32 32">
                <path d="M16 6c-6.979 0-13.028 4.064-16 10 2.972 5.936 9.021 10 16 10s13.027-4.064 16-10c-2.972-5.936-9.021-10-16-10zM23.889 11.303c1.88 1.199 3.473 2.805 4.67 4.697-1.197 1.891-2.79 3.498-4.67 4.697-2.362 1.507-5.090 2.303-7.889 2.303s-5.527-0.796-7.889-2.303c-1.88-1.199-3.473-2.805-4.67-4.697 1.197-1.891 2.79-3.498 4.67-4.697 0.122-0.078 0.246-0.154 0.371-0.228-0.311 0.854-0.482 1.776-0.482 2.737 0 4.418 3.582 8 8 8s8-3.582 8-8c0-0.962-0.17-1.883-0.482-2.737 0.124 0.074 0.248 0.15 0.371 0.228v0zM16 13c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3z" fill="#fff"></path>
              </svg>
              <svg id="eye-closed1" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="32" viewBox="0 0 32 32">
                <path d="M29.561 0.439c-0.586-0.586-1.535-0.586-2.121 0l-6.318 6.318c-1.623-0.492-3.342-0.757-5.122-0.757-6.979 0-13.028 4.064-16 10 1.285 2.566 3.145 4.782 5.407 6.472l-4.968 4.968c-0.586 0.586-0.586 1.535 0 2.121 0.293 0.293 0.677 0.439 1.061 0.439s0.768-0.146 1.061-0.439l27-27c0.586-0.586 0.586-1.536 0-2.121zM13 10c1.32 0 2.44 0.853 2.841 2.037l-3.804 3.804c-1.184-0.401-2.037-1.521-2.037-2.841 0-1.657 1.343-3 3-3zM3.441 16c1.197-1.891 2.79-3.498 4.67-4.697 0.122-0.078 0.246-0.154 0.371-0.228-0.311 0.854-0.482 1.776-0.482 2.737 0 1.715 0.54 3.304 1.459 4.607l-1.904 1.904c-1.639-1.151-3.038-2.621-4.114-4.323z" fill="#fff"></path>
                <path d="M24 13.813c0-0.849-0.133-1.667-0.378-2.434l-10.056 10.056c0.768 0.245 1.586 0.378 2.435 0.378 4.418 0 8-3.582 8-8z" fill="#fff"></path>
                <path d="M25.938 9.062l-2.168 2.168c0.040 0.025 0.079 0.049 0.118 0.074 1.88 1.199 3.473 2.805 4.67 4.697-1.197 1.891-2.79 3.498-4.67 4.697-2.362 1.507-5.090 2.303-7.889 2.303-1.208 0-2.403-0.149-3.561-0.439l-2.403 2.403c1.866 0.671 3.873 1.036 5.964 1.036 6.978 0 13.027-4.064 16-10-1.407-2.81-3.504-5.2-6.062-6.938z" fill="#fff"></path>
              </svg>
            </div>
          </div>

            <div class="flex-cont">
            <label>Memorable Keyword 2:</label>
            <input id="keyword2" type="password" placeholder="banana">
            <div class="btn" id="reveal2">
              <svg id="eye-open2" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="32" viewBox="0 0 32 32">
                <path d="M16 6c-6.979 0-13.028 4.064-16 10 2.972 5.936 9.021 10 16 10s13.027-4.064 16-10c-2.972-5.936-9.021-10-16-10zM23.889 11.303c1.88 1.199 3.473 2.805 4.67 4.697-1.197 1.891-2.79 3.498-4.67 4.697-2.362 1.507-5.090 2.303-7.889 2.303s-5.527-0.796-7.889-2.303c-1.88-1.199-3.473-2.805-4.67-4.697 1.197-1.891 2.79-3.498 4.67-4.697 0.122-0.078 0.246-0.154 0.371-0.228-0.311 0.854-0.482 1.776-0.482 2.737 0 4.418 3.582 8 8 8s8-3.582 8-8c0-0.962-0.17-1.883-0.482-2.737 0.124 0.074 0.248 0.15 0.371 0.228v0zM16 13c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3z" fill="#fff"></path>
              </svg>
              <svg id="eye-closed2" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="32" viewBox="0 0 32 32">
                <path d="M29.561 0.439c-0.586-0.586-1.535-0.586-2.121 0l-6.318 6.318c-1.623-0.492-3.342-0.757-5.122-0.757-6.979 0-13.028 4.064-16 10 1.285 2.566 3.145 4.782 5.407 6.472l-4.968 4.968c-0.586 0.586-0.586 1.535 0 2.121 0.293 0.293 0.677 0.439 1.061 0.439s0.768-0.146 1.061-0.439l27-27c0.586-0.586 0.586-1.536 0-2.121zM13 10c1.32 0 2.44 0.853 2.841 2.037l-3.804 3.804c-1.184-0.401-2.037-1.521-2.037-2.841 0-1.657 1.343-3 3-3zM3.441 16c1.197-1.891 2.79-3.498 4.67-4.697 0.122-0.078 0.246-0.154 0.371-0.228-0.311 0.854-0.482 1.776-0.482 2.737 0 1.715 0.54 3.304 1.459 4.607l-1.904 1.904c-1.639-1.151-3.038-2.621-4.114-4.323z" fill="#fff"></path>
                <path d="M24 13.813c0-0.849-0.133-1.667-0.378-2.434l-10.056 10.056c0.768 0.245 1.586 0.378 2.435 0.378 4.418 0 8-3.582 8-8z" fill="#fff"></path>
                <path d="M25.938 9.062l-2.168 2.168c0.040 0.025 0.079 0.049 0.118 0.074 1.88 1.199 3.473 2.805 4.67 4.697-1.197 1.891-2.79 3.498-4.67 4.697-2.362 1.507-5.090 2.303-7.889 2.303-1.208 0-2.403-0.149-3.561-0.439l-2.403 2.403c1.866 0.671 3.873 1.036 5.964 1.036 6.978 0 13.027-4.064 16-10-1.407-2.81-3.504-5.2-6.062-6.938z" fill="#fff"></path>
              </svg>
            </div>
          </div>

          <button id="generate">generate</button>
          
        <div class="flex-cont">
          <label>Output:</label>
          <input id="output" placeholder="@`cE16{-.G..yQq(">
          <div class="btn" id="copy" data-clipboard-target="#output">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="32" viewBox="0 0 1024 896">
              <path d="M128 768h256v64H128v-64z m320-384H128v64h320v-64z m128 192V448L384 640l192 192V704h320V576H576z m-288-64H128v64h160v-64zM128 704h160v-64H128v64z m576 64h64v128c-1 18-7 33-19 45s-27 18-45 19H64c-35 0-64-29-64-64V192c0-35 29-64 64-64h192C256 57 313 0 384 0s128 57 128 128h192c35 0 64 29 64 64v320h-64V320H64v576h640V768zM128 256h512c0-35-29-64-64-64h-64c-35 0-64-29-64-64s-29-64-64-64-64 29-64 64-29 64-64 64h-64c-35 0-64 29-64 64z" fill="#fff"></path>
            </svg>
          </div>
        </div>

        <span id="info"></span>
        
        <div>
          <input type="text" name="website" placeholder="website" id="website">
          <input type="text" name="username" placeholder="username" id="username">
          <input type="text" name="password" placeholder="password" id="password">
          <button id="add">add</button>
        </div>

        <button id="sign-in">sign-in</button>
        <button id="start">start</button>
        <table>
          <thead>
            <tr>
              <th>website</th>
              <th>username</th>
              <th>password</th>
            </tr>
          </thead>
          <tbody id="logins"></tbody>
        </table>

        <script src="https://www.gstatic.com/firebasejs/5.8.4/firebase.js"></script>

        <!-- 
        <script src="https://www.gstatic.com/firebasejs/5.8.4/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/5.8.4/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/5.8.4/firebase-firestore.js"></script> 
        -->

    </main>


    <script>

    // crypto.js + helper
    !function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=t()}}(function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n||t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r=9;if(Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}e.exports=function(t,e){for(;t&&t.nodeType!==r;){if(t.matches(e))return t;t=t.parentNode}}},{}],2:[function(t,e,n){var r=t("./closest");e.exports=function(t,e,n,i,o){var s=function(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&i.call(t,n)}}.apply(this,arguments);return t.addEventListener(n,s,o),{destroy:function(){t.removeEventListener(n,s,o)}}}},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){var r=t("./is"),i=t("delegate");e.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(t))return o=t,s=e,a=n,o.addEventListener(s,a),{destroy:function(){o.removeEventListener(s,a)}};var o,s,a,c,u,f,l,h,d;if(r.nodeList(t))return c=t,u=e,f=n,Array.prototype.forEach.call(c,function(t){t.addEventListener(u,f)}),{destroy:function(){Array.prototype.forEach.call(c,function(t){t.removeEventListener(u,f)})}};if(r.string(t))return l=t,h=e,d=n,i(document.body,l,h,d);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(t,e,n){e.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n.removeAllRanges(),n.addRange(r),e=n.toString()}return e}},{}],6:[function(t,e,n){function r(){}r.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,s=r.length;o<s;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},e.exports=r},{}],7:[function(t,e,n){!function(r,i){if(void 0!==n)i(e,t("select"));else{var o={exports:{}};i(o,r.select),r.clipboardAction=o.exports}}(this,function(t,e){"use strict";var n,r=(n=e)&&n.__esModule?n:{default:n},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,n)),this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},{select:5}],8:[function(t,e,n){!function(r,i){if(void 0!==n)i(e,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var o={exports:{}};i(o,r.clipboardAction,r.tinyEmitter,r.goodListener),r.clipboard=o.exports}}(this,function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var s=i(e),a=i(n),c=i(r),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.resolveOptions(n),r.listenClick(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),u(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,c.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return o("action",t)}},{key:"defaultTarget",value:function(t){var e=o("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return o("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),e}();t.exports=f})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});var CryptoJS=CryptoJS||function(t,e){var n={},r=n.lib={},i=function(){},o=r.Base={extend:function(t){i.prototype=this;var e=new i;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=r.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes;if(t=t.sigBytes,this.clamp(),r%4)for(var i=0;i<t;i++)e[r+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else if(65535<n.length)for(i=0;i<t;i+=4)e[r+i>>>2]=n[i>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],r=0;r<e;r+=4)n.push(4294967296*t.random()|0);return new s.init(n,e)}}),a=n.enc={},c=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],r=0;r<t;r++){var i=e[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(n,e/2)}},u=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],r=0;r<t;r++)n.push(String.fromCharCode(e[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(n,e)}},f=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},l=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o);if(e=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,i=t.min(4*e,i),e){for(var c=0;c<e;c+=o)this._doProcessBlock(r,c);c=r.splice(0,e),n.sigBytes-=i}return new s.init(c,i)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});r.Hasher=l.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}});var h=n.algo={};return n}(Math);
    !function(){var t=CryptoJS,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp(),t=[];for(var i=0;i<n;i+=3)for(var o=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;4>s&&i+.75*s<n;s++)t.push(r.charAt(o>>>6*(3-s)&63));if(e=r.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var n=t.length,r=this._map;(i=r.charAt(64))&&(-1!=(i=t.indexOf(i))&&(n=i));for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r.indexOf(t.charAt(s-1))<<s%4*2,c=r.indexOf(t.charAt(s))>>>6-s%4*2;i[o>>>2]|=(a|c)<<24-o%4*8,o++}return e.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,n,r,i,o,s){return((t=t+(e&n|~e&r)+i+s)<<o|t>>>32-o)+e}function n(t,e,n,r,i,o,s){return((t=t+(e&r|n&~r)+i+s)<<o|t>>>32-o)+e}function r(t,e,n,r,i,o,s){return((t=t+(e^n^r)+i+s)<<o|t>>>32-o)+e}function i(t,e,n,r,i,o,s){return((t=t+(n^(e|~r))+i+s)<<o|t>>>32-o)+e}for(var o=CryptoJS,s=(c=o.lib).WordArray,a=c.Hasher,c=o.algo,u=[],f=0;64>f;f++)u[f]=4294967296*t.abs(t.sin(f+1))|0;c=c.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,o){for(var s=0;16>s;s++){var a=t[l=o+s];t[l]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}s=this._hash.words;var c,f,l=t[o+0],h=(a=t[o+1],t[o+2]),d=t[o+3],p=t[o+4],y=t[o+5],v=t[o+6],g=t[o+7],m=t[o+8],_=t[o+9],k=t[o+10],b=t[o+11],x=t[o+12],S=t[o+13],E=t[o+14],w=t[o+15],B=s[0],C=i(C=i(C=i(C=i(C=r(C=r(C=r(C=r(C=n(C=n(C=n(C=n(C=e(C=e(C=e(C=e(C=s[1],f=e(f=s[2],c=e(c=s[3],B=e(B,C,f,c,l,7,u[0]),C,f,a,12,u[1]),B,C,h,17,u[2]),c,B,d,22,u[3]),f=e(f,c=e(c,B=e(B,C,f,c,p,7,u[4]),C,f,y,12,u[5]),B,C,v,17,u[6]),c,B,g,22,u[7]),f=e(f,c=e(c,B=e(B,C,f,c,m,7,u[8]),C,f,_,12,u[9]),B,C,k,17,u[10]),c,B,b,22,u[11]),f=e(f,c=e(c,B=e(B,C,f,c,x,7,u[12]),C,f,S,12,u[13]),B,C,E,17,u[14]),c,B,w,22,u[15]),f=n(f,c=n(c,B=n(B,C,f,c,a,5,u[16]),C,f,v,9,u[17]),B,C,b,14,u[18]),c,B,l,20,u[19]),f=n(f,c=n(c,B=n(B,C,f,c,y,5,u[20]),C,f,k,9,u[21]),B,C,w,14,u[22]),c,B,p,20,u[23]),f=n(f,c=n(c,B=n(B,C,f,c,_,5,u[24]),C,f,E,9,u[25]),B,C,d,14,u[26]),c,B,m,20,u[27]),f=n(f,c=n(c,B=n(B,C,f,c,S,5,u[28]),C,f,h,9,u[29]),B,C,g,14,u[30]),c,B,x,20,u[31]),f=r(f,c=r(c,B=r(B,C,f,c,y,4,u[32]),C,f,m,11,u[33]),B,C,b,16,u[34]),c,B,E,23,u[35]),f=r(f,c=r(c,B=r(B,C,f,c,a,4,u[36]),C,f,p,11,u[37]),B,C,g,16,u[38]),c,B,k,23,u[39]),f=r(f,c=r(c,B=r(B,C,f,c,S,4,u[40]),C,f,l,11,u[41]),B,C,d,16,u[42]),c,B,v,23,u[43]),f=r(f,c=r(c,B=r(B,C,f,c,_,4,u[44]),C,f,x,11,u[45]),B,C,w,16,u[46]),c,B,h,23,u[47]),f=i(f,c=i(c,B=i(B,C,f,c,l,6,u[48]),C,f,g,10,u[49]),B,C,E,15,u[50]),c,B,y,21,u[51]),f=i(f,c=i(c,B=i(B,C,f,c,x,6,u[52]),C,f,d,10,u[53]),B,C,k,15,u[54]),c,B,a,21,u[55]),f=i(f,c=i(c,B=i(B,C,f,c,m,6,u[56]),C,f,w,10,u[57]),B,C,v,15,u[58]),c,B,S,21,u[59]),f=i(f,c=i(c,B=i(B,C,f,c,p,6,u[60]),C,f,b,10,u[61]),B,C,h,15,u[62]),c,B,_,21,u[63]);s[0]=s[0]+B|0,s[1]=s[1]+C|0,s[2]=s[2]+f|0,s[3]=s[3]+c|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296);for(n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(n.length+1),this._process(),n=(e=this._hash).words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return e},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),o.MD5=a._createHelper(c),o.HmacMD5=a._createHmacHelper(c)}(Math),function(){var t,e=CryptoJS,n=(t=e.lib).Base,r=t.WordArray,i=(t=e.algo).EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=(a=this.cfg).hasher.create(),i=r.create(),o=i.words,s=a.keySize,a=a.iterations;o.length<s;){c&&n.update(c);var c=n.update(t).finalize(e);n.reset();for(var u=1;u<a;u++)c=n.finalize(c),n.reset();i.concat(c)}return i.sigBytes=4*s,i}});e.EvpKDF=function(t,e,n){return i.create(n).compute(t,e)}}(),CryptoJS.lib.Cipher||function(t){var e=(d=CryptoJS).lib,n=e.Base,r=e.WordArray,i=e.BufferedBlockAlgorithm,o=d.enc.Base64,s=d.algo.EvpKDF,a=e.Cipher=i.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,n,r){return("string"==typeof n?p:h).encrypt(t,e,n,r)},decrypt:function(e,n,r){return("string"==typeof n?p:h).decrypt(t,e,n,r)}}}});e.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=d.mode={},u=function(t,e,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)t[e+i]^=r[i]},f=(e.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();f.Encryptor=f.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize;u.call(this,t,e,r),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+r)}}),f.Decryptor=f.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=t.slice(e,e+r);n.decryptBlock(t,e),u.call(this,t,e,r),this._prevBlock=i}}),c=c.CBC=f,f=(d.pad={}).Pkcs7={pad:function(t,e){for(var n,i=(n=(n=4*e)-t.sigBytes%n)<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(i);n=r.create(o,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},e.BlockCipher=a.extend({cfg:a.cfg.extend({mode:c,padding:f}),reset:function(){a.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var l=e.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),h=(c=(d.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?r.create([1398893684,1701076831]).concat(t).concat(e):e).toString(o)},parse:function(t){var e=(t=o.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var n=r.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return l.create({ciphertext:t,salt:n})}},e.SerializableCipher=n.extend({cfg:n.extend({format:c}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r);return e=i.finalize(e),i=i.cfg,l.create({ciphertext:e,key:n,iv:i.iv,algorithm:t,mode:i.mode,padding:i.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),d=(d.kdf={}).OpenSSL={execute:function(t,e,n,i){return i||(i=r.random(8)),t=s.create({keySize:e+n}).compute(t,i),n=r.create(t.words.slice(e),4*n),t.sigBytes=4*e,l.create({key:t,iv:n,salt:i})}},p=e.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:d}),encrypt:function(t,e,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize),r.iv=n.iv,(t=h.encrypt.call(this,t,e,n.key,r)).mixIn(n),t},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),n=r.kdf.execute(n,t.keySize,t.ivSize,e.salt),r.iv=n.iv,h.decrypt.call(this,t,e,n.key,r)}})}(),function(){for(var t=CryptoJS,e=t.lib.BlockCipher,n=t.algo,r=[],i=[],o=[],s=[],a=[],c=[],u=[],f=[],l=[],h=[],d=[],p=0;256>p;p++)d[p]=128>p?p<<1:p<<1^283;var y=0,v=0;for(p=0;256>p;p++){var g=(g=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&g^99;r[y]=g,i[g]=y;var m=d[y],_=d[m],k=d[_],b=257*d[g]^16843008*g;o[y]=b<<24|b>>>8,s[y]=b<<16|b>>>16,a[y]=b<<8|b>>>24,c[y]=b,b=16843009*k^65537*_^257*m^16843008*y,u[g]=b<<24|b>>>8,f[g]=b<<16|b>>>16,l[g]=b<<8|b>>>24,h[g]=b,y?(y=m^d[d[d[k^m]]],v^=d[d[v]]):y=v=1}var x=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=e.extend({_doReset:function(){for(var t=(n=this._key).words,e=n.sigBytes/4,n=4*((this._nRounds=e+6)+1),i=this._keySchedule=[],o=0;o<n;o++)if(o<e)i[o]=t[o];else{var s=i[o-1];o%e?6<e&&4==o%e&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=r[(s=s<<8|s>>>24)>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=x[o/e|0]<<24),i[o]=i[o-e]^s}for(t=this._invKeySchedule=[],e=0;e<n;e++)o=n-e,s=e%4?i[o]:i[o-4],t[e]=4>e||4>=o?s:u[r[s>>>24]]^f[r[s>>>16&255]]^l[r[s>>>8&255]]^h[r[255&s]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,o,s,a,c,r)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,u,f,l,h,i),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,s,a){for(var c=this._nRounds,u=t[e]^n[0],f=t[e+1]^n[1],l=t[e+2]^n[2],h=t[e+3]^n[3],d=4,p=1;p<c;p++){var y=r[u>>>24]^i[f>>>16&255]^o[l>>>8&255]^s[255&h]^n[d++],v=r[f>>>24]^i[l>>>16&255]^o[h>>>8&255]^s[255&u]^n[d++],g=r[l>>>24]^i[h>>>16&255]^o[u>>>8&255]^s[255&f]^n[d++];h=r[h>>>24]^i[u>>>16&255]^o[f>>>8&255]^s[255&l]^n[d++],u=y,f=v,l=g}y=(a[u>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^n[d++],v=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^n[d++],g=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&f])^n[d++],h=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^n[d++],t[e]=y,t[e+1]=v,t[e+2]=g,t[e+3]=h},keySize:8});t.AES=e._createHelper(n)}();

     /*
     A JavaScript implementation of the SHA family of hashes, as
     defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding
     HMAC implementation as defined in FIPS PUB 198a

     Copyright Brian Turek 2008-2017
     Distributed under the BSD License
     See http://caligatio.github.com/jsSHA/ for more information

     Several functions taken from Paul Johnston
    */

    'use strict';(function(L){function x(c,a,d){var e=0,g=[],q=0,f,b,k,h,l,n,t,p,y=!1,u=[],r=[],v,A=!1;d=d||{};f=d.encoding||"UTF8";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error("numRounds must a integer >= 1");if(0===c.lastIndexOf("SHA-",0))if(n=function(a,d){return B(a,d,c)},t=function(a,d,g,e){var b,f;if("SHA-384"===c||"SHA-512"===c)b=(d+129>>>10<<5)+31,f=32;else throw Error("Unexpected error in SHA-2 implementation");for(;a.length<=b;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[b]=d&4294967295;a[b-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=f)e=B(a.slice(d,d+f),e,c);if("SHA-384"===c)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if("SHA-512"===c)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error("Unexpected error in SHA-2 implementation");return a},p=function(a){return a.slice()},"SHA-384"===c)l=1024,h=384;else if("SHA-512"===c)l=1024,h=512;else throw Error("Chosen SHA variant is not supported");else throw Error("Chosen SHA variant is not supported");k=C(a,f);b=z(c);this.setHMACKey=function(a,d,g){var q;if(!0===y)throw Error("HMAC key already set");if(!0===A)throw Error("Cannot set HMAC key after calling update");f=(g||{}).encoding||"UTF8";d=C(d,f)(a);a=d.binLen;d=d.value;q=l>>>3;g=q/4-1;if(q<a/8){for(d=t(d,a,0,z(c));d.length<=g;)d.push(0);d[g]&=4294967040}else if(q>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;b=n(u,b);e=l;y=!0};this.update=function(a){var d,c,m,f=0,h=l>>>5;d=k(a,g,q);a=d.binLen;c=d.value;d=a>>>5;for(m=0;m<d;m+=h)f+l<=a&&(b=n(c.slice(m,m+h),b),f+=l);e+=f;g=c.slice(f>>>5);q=a%l;A=!0};this.getHash=function(a,d){var f,k,l,n;if(!0===y)throw Error("Cannot call getHash after setting HMAC key");l=D(d);switch(a){case "HEX":f=function(a){return E(a,h,l)};break;case "B64":f=function(a){return F(a,h,l)};break;case "BYTES":f=function(a){return G(a,h)};break;case "ARRAYBUFFER":try{k=new ArrayBuffer(0)}catch(w){throw Error("ARRAYBUFFER not supported by this environment");}f=function(a){return I(a,h)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER");}n=t(g.slice(),q,e,p(b));for(k=1;k<v;k+=1)n=t(n,h,0,z(c));return f(n)};this.getHMAC=function(a,d){var f,k,u,v;if(!1===y)throw Error("Cannot call getHMAC without first setting HMAC key");u=D(d);switch(a){case "HEX":f=function(a){return E(a,h,u)};break;case "B64":f=function(a){return F(a,h,u)};break;case "BYTES":f=function(a){return G(a,h)};break;case "ARRAYBUFFER":try{f=new ArrayBuffer(0)}catch(w){throw Error("ARRAYBUFFER not supported by this environment");}f=function(a){return I(a,h)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER");}k=t(g.slice(),q,e,p(b));v=n(r,z(c));v=t(k,h,l,v);return f(v)}}function c(c,a){this.a=c;this.b=a}function E(c,a,d){var e="";a/=8;var g,b;for(g=0;g<a;g+=1)b=c[g>>>2]>>>8*(3+g%4*-1),e+="0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(b&15);return d.outputUpper?e.toUpperCase():e}function F(c,a,d){var e="",g=a/8,b,f,H;for(b=0;b<g;b+=3)for(f=b+1<g?c[b+1>>>2]:0,H=b+2<g?c[b+2>>>2]:0,H=(c[b>>>2]>>>8*(3+b%4*-1)&255)<<16|(f>>>8*(3+(b+1)%4*-1)&255)<<8|H>>>8*(3+(b+2)%4*-1)&255,f=0;4>f;f+=1)8*b+6*f<=a?e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(H>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(c,a){var d="",e=a/8,g,b;for(g=0;g<e;g+=1)b=c[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(b);return d}function I(c,a){var d=a/8,e,g=new ArrayBuffer(d);for(e=0;e<d;e+=1)g[e]=c[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(c){var a={outputUpper:!1,b64Pad:"=",shakeLen:-1};c=c||{};a.outputUpper=c.outputUpper||!1;!0===c.hasOwnProperty("b64Pad")&&(a.b64Pad=c.b64Pad);if("boolean"!==typeof a.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!==typeof a.b64Pad)throw Error("Invalid b64Pad formatting option");return a}function C(c,a){var d;switch(a){case "UTF8":case "UTF16BE":case "UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE");}switch(c){case "HEX":d=function(a,c,d){var b=a.length,m,k,h,l,n;if(0!==b%2)throw Error("String of HEX type must be in byte increments");c=c||[0];d=d||0;n=d>>>3;for(m=0;m<b;m+=2){k=parseInt(a.substr(m,2),16);if(isNaN(k))throw Error("String of HEX type contains invalid characters");l=(m>>>1)+n;for(h=l>>>2;c.length<=h;)c.push(0);c[h]|=k<<8*(3+l%4*-1)}return{value:c,binLen:4*b+d}};break;case "TEXT":d=function(c,d,b){var f,m,k=0,h,l,n,t,p,r;d=d||[0];b=b||0;n=b>>>3;if("UTF8"===a)for(r=3,h=0;h<c.length;h+=1)for(f=c.charCodeAt(h),m=[],128>f?m.push(f):2048>f?(m.push(192|f>>>6),m.push(128|f&63)):55296>f||57344<=f?m.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|c.charCodeAt(h)&1023),m.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<m.length;l+=1){p=k+n;for(t=p>>>2;d.length<=t;)d.push(0);d[t]|=m[l]<<8*(r+p%4*-1);k+=1}else if("UTF16BE"===a||"UTF16LE"===a)for(r=2,h=0;h<c.length;h+=1){f=c.charCodeAt(h);"UTF16LE"===a&&(l=f&255,f=l<<8|f>>>8);p=k+n;for(t=p>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+p%4*-1);k+=2}return{value:d,binLen:8*k+b}};break;case "B64":d=function(a,c,d){var b=0,m,k,h,l,n,t,p;if(-1===a.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");k=a.indexOf("=");a=a.replace(/\=/g,"");if(-1!==k&&k<a.length)throw Error("Invalid '=' found in base-64 string");c=c||[0];d=d||0;t=d>>>3;for(k=0;k<a.length;k+=4){n=a.substr(k,4);for(h=l=0;h<n.length;h+=1)m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(n[h]),l|=m<<18-6*h;for(h=0;h<n.length-1;h+=1){p=b+t;for(m=p>>>2;c.length<=m;)c.push(0);c[m]|=(l>>>16-8*h&255)<<8*(3+p%4*-1);b+=1}}return{value:c,binLen:8*b+d}};break;case "BYTES":d=function(a,c,d){var b,m,k,h,l;c=c||[0];d=d||0;k=d>>>3;for(m=0;m<a.length;m+=1)b=a.charCodeAt(m),l=m+k,h=l>>>2,c.length<=h&&c.push(0),c[h]|=b<<8*(3+l%4*-1);return{value:c,binLen:8*a.length+d}};break;case "ARRAYBUFFER":try{d=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment");}d=function(a,c,d){var b,m,k,h;c=c||[0];d=d||0;m=d>>>3;for(b=0;b<a.byteLength;b+=1)h=b+m,k=h>>>2,c.length<=k&&c.push(0),c[k]|=a[b]<<8*(3+h%4*-1);return{value:c,binLen:8*a.byteLength+d}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER");}return d}function r(b,a){var d=null,d=new c(b.a,b.b);return d=32>=a?new c(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new c(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function J(b,a){var d=null;return d=32>=a?new c(b.a>>>a,b.b>>>a|b.a<<32-a&4294967295):new c(0,b.a>>>a-32)}function M(b,a,d){return new c(b.a&a.a^~b.a&d.a,b.b&a.b^~b.b&d.b)}function N(b,a,d){return new c(b.a&a.a^b.a&d.a^a.a&d.a,b.b&a.b^b.b&d.b^a.b&d.b)}function O(b){var a=r(b,28),d=r(b,34);b=r(b,39);return new c(a.a^d.a^b.a,a.b^d.b^b.b)}function P(b){var a=r(b,14),d=r(b,18);b=r(b,41);return new c(a.a^d.a^b.a,a.b^d.b^b.b)}function Q(b){var a=r(b,1),d=r(b,8);b=J(b,7);return new c(a.a^d.a^b.a,a.b^d.b^b.b)}function R(b){var a=r(b,19),d=r(b,61);b=J(b,6);return new c(a.a^d.a^b.a,a.b^d.b^b.b)}function S(b,a){var d,e,g;d=(b.b&65535)+(a.b&65535);e=(b.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(b.a&65535)+(a.a&65535)+(e>>>16);e=(b.a>>>16)+(a.a>>>16)+(d>>>16);return new c((e&65535)<<16|d&65535,g)}function T(b,a,d,e){var g,q,f;g=(b.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);q=(b.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(q&65535)<<16|g&65535;g=(b.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(q>>>16);q=(b.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>16);return new c((q&65535)<<16|g&65535,f)}function U(b,a,d,e,g){var q,f,r;q=(b.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(b.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(q>>>16);r=(f&65535)<<16|q&65535;q=(b.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(b.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(q>>>16);return new c((f&65535)<<16|q&65535,r)}function z(b){var a=[],d;if(0===b.lastIndexOf("SHA-",0))switch(a=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],b){case "SHA-224":break;case "SHA-256":a=d;break;case "SHA-384":a=[new c(3418070365,a[0]),new c(1654270250,a[1]),new c(2438529370,a[2]),new c(355462360,a[3]),new c(1731405415,a[4]),new c(41048885895,a[5]),new c(3675008525,a[6]),new c(1203062813,a[7])];break;case "SHA-512":a=[new c(d[0],4089235720),new c(d[1],2227873595),new c(d[2],4271175723),new c(d[3],1595750129),new c(d[4],2917565137),new c(d[5],725511199),new c(d[6],4215389547),new c(d[7],327033209)];break;default:throw Error("Unknown SHA variant");}else throw Error("No SHA variants supported");return a}function B(b,a,d){var e,g,q,f,r,k,h,l,n,t,p,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if("SHA-384"===d||"SHA-512"===d)t=80,y=2,F=c,u=S,x=T,v=U,A=Q,z=R,B=O,C=P,E=N,D=M,G=K;else throw Error("Unexpected error in SHA-2 implementation");d=a[0];e=a[1];g=a[2];q=a[3];f=a[4];r=a[5];k=a[6];h=a[7];for(p=0;p<t;p+=1)16>p?(n=p*y,l=b.length<=n?0:b[n],n=b.length<=n+1?0:b[n+1],w[p]=new F(l,n)):w[p]=x(z(w[p-2]),w[p-7],A(w[p-15]),w[p-16]),l=v(h,C(f),D(f,r,k),G[p],w[p]),n=u(B(d),E(d,e,g)),h=k,k=r,r=f,f=u(q,l),q=g,g=e,e=d,d=u(l,n);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(q,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(k,a[6]);a[7]=u(h,a[7]);return a}var b,K;b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];K=[new c(b[0],3609767458),new c(b[1],602891725),new c(b[2],3964484399),new c(b[3],2173295548),new c(b[4],4081628472),new c(b[5],3053834265),new c(b[6],2937671579),new c(b[7],3664609560),new c(b[8],2734883394),new c(b[9],1164996542),new c(b[10],1323610764),new c(b[11],3590304994),new c(b[12],4068182383),new c(b[13],991336113),new c(b[14],633803317),new c(b[15],3479774868),new c(b[16],2666613458),new c(b[17],944711139),new c(b[18],2341262773),new c(b[19],2007800933),new c(b[20],1495990901),new c(b[21],1856431235),new c(b[22],3175218132),new c(b[23],2198950837),new c(b[24],3999719339),new c(b[25],766784016),new c(b[26],2566594879),new c(b[27],3203337956),new c(b[28],1034457026),new c(b[29],2466948901),new c(b[30],3758326383),new c(b[31],168717936),new c(b[32],1188179964),new c(b[33],1546045734),new c(b[34],1522805485),new c(b[35],2643833823),new c(b[36],2343527390),new c(b[37],1014477480),new c(b[38],1206759142),new c(b[39],344077627),new c(b[40],1290863460),new c(b[41],3158454273),new c(b[42],3505952657),new c(b[43],106217008),new c(b[44],3606008344),new c(b[45],1432725776),new c(b[46],1467031594),new c(b[47],851169720),new c(b[48],3100823752),new c(b[49],1363258195),new c(b[50],3750685593),new c(b[51],3785050280),new c(b[52],3318307427),new c(b[53],3812723403),new c(b[54],2003034995),new c(b[55],3602036899),new c(b[56],1575990012),new c(b[57],1125592928),new c(b[58],2716904306),new c(b[59],442776044),new c(b[60],593698344),new c(b[61],3733110249),new c(b[62],2999351573),new c(b[63],3815920427),new c(3391569614,3928383900),new c(3515267271,566280711),new c(3940187606,3454069534),new c(4118630271,4000239992),new c(116418474,1914138554),new c(174292421,2731055270),new c(289380356,3203993006),new c(460393269,320620315),new c(685471733,587496836),new c(852142971,1086792851),new c(1017036298,365543100),new c(1126000580,2618297676),new c(1288033470,3409855158),new c(1501505948,4234509866),new c(1607167915,987167468),new c(1816402316,1246189591)];"function"===typeof define&&define.amd?define(function(){return x}):"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(module.exports=x),exports=x):L.jsSHA=x})(this);

    /*!
     * clipboard.js v1.5.16
     * https://zenorocha.github.io/clipboard.js
     *
     * Licensed MIT Â© Zeno Rocha
     */
    !function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e,t,n;return function e(t,n,i){function o(a,c){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){function i(e,t){for(;e&&e.nodeType!==o;){if(e.matches(t))return e;e=e.parentNode}}var o=9;if(Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=i},{}],2:[function(e,t,n){function i(e,t,n,i,r){var a=o.apply(this,arguments);return e.addEventListener(n,a,r),{destroy:function(){e.removeEventListener(n,a,r)}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}var r=e("./closest");t.exports=i},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],4:[function(e,t,n){function i(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!c.string(t))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(e))return o(e,t,n);if(c.nodeList(e))return r(e,t,n);if(c.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function r(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return l(document.body,e,t,n)}var c=e("./is"),l=e("delegate");t.exports=i},{"./is":3,delegate:2}],5:[function(e,t,n){function i(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}t.exports=i},{}],6:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){o.off(e,i),t.apply(n,arguments)}var o=this;return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var r=0,a=i.length;r<a;r++)i[r].fn!==t&&i[r].fn._!==t&&o.push(i[r]);return o.length?n[e]=o:delete n[e],this}},t.exports=i},{}],7:[function(t,n,i){!function(o,r){if("function"==typeof e&&e.amd)e(["module","select"],r);else if("undefined"!=typeof i)r(n,t("select"));else{var a={exports:{}};r(a,o.select),o.clipboardAction=a.exports}}(this,function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(t),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function(){function e(t){i(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function e(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function e(){var t=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,i)),this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function e(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function e(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:"copyText",value:function e(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function e(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function e(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function e(){this.removeFake()}},{key:"action",set:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function e(){return this._action}},{key:"target",set:function e(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function e(){return this._target}}]),e}();e.exports=c})},{select:5}],8:[function(t,n,i){!function(o,r){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof i)r(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var a={exports:{}};r(a,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=a.exports}}(this,function(e,t,n,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var s=o(t),u=o(n),f=o(i),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(e,n){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.resolveOptions(n),i.listenClick(e),i}return c(t,e),d(t,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function e(t){var n=this;this.listener=(0,f.default)(t,"click",function(e){return n.onClick(e)})}},{key:"onClick",value:function e(t){var n=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})}},{key:"defaultAction",value:function e(t){return l("action",t)}},{key:"defaultTarget",value:function e(t){var n=l("target",t);if(n)return document.querySelector(n)}},{key:"defaultText",value:function e(t){return l("text",t)}},{key:"destroy",value:function e(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),t}(u.default);e.exports=h})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});

      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyAspnugc9ChnKfbsheTMq0wVMOjFMfpNMU",
        authDomain: "personal-password-manager.firebaseapp.com",
        databaseURL: "https://personal-password-manager.firebaseio.com",
        projectId: "personal-password-manager"
      };
      firebase.initializeApp(config);

      function handleClick(argument) {
        var provider = new firebase.auth.GoogleAuthProvider();
        firebase
          .auth()
          .signInWithPopup(provider)
          .then(function(result) {
            // This gives you a Google Access Token. You can use it to access the Google API.
            var token = result.credential.accessToken;
            // The signed-in user info.
            var user = result.user;
            // ...
          })
          .catch(function(error) {
            // Handle Errors here.
            var errorCode = error.code;
            var errorMessage = error.message;
            // The email of the user's account used.
            var email = error.email;
            // The firebase.auth.AuthCredential type that was used.
            var credential = error.credential;
            // ...
          });
      }

      var private;

      function initApp() {
        firebase.auth().onAuthStateChanged(function(user) {
          if (user) {
            var name = user.displayName;
            var email = user.email;
            var uid = user.uid;
            var providerId = user.providerData[0].uid;

            console.log(uid);

            var db = firebase.firestore();
            private = db
              .collection("private")
              .doc(uid)
              .collection("logins");

            // private passwords
            private
              .get()
              .then(function(querySnapshot) {
                querySnapshot.forEach(function(item) {
                  //privateObj[item.id] = item.data();
                  console.log("private: ", item.id, item.data());
                  buildRows(item.id, item.data());
                });
              })
              .catch(function(error) {
                console.log("Error private");
              });
          } else {
            console.log("not logged in");
          }
        });
      }

      function buildRows(id, data) {
        var z = document.getElementById("logins");
        z.innerHTML += "<tr><td>" +
          data.website +
          "</td><td>" +
          data.username +
          "</td><td>" +
          data.password +
          "</td><td>" +
          "<button data-id=" + id + ">delete</button>" +
          "</td></tr>"
      }

      document.getElementById("sign-in").addEventListener("click", function() {
        handleClick();
      });

      document.getElementById("start").addEventListener("click", function() {
        initApp();
      });
      initApp();

      document.getElementById("add").addEventListener("click", function() {
        var w = document.getElementById("website").value;
        var u = document.getElementById("username").value;
        var p = document.getElementById("password").value;
        private
          .doc()
          .set({
            website: w,
            username: u,
            password: p
          })
          .then(function() {
            console.log("Document successfully written!");
            window.location.reload(true);
          })
          .catch(function(error) {
            console.error("Error writing document: ", error);
          });
        console.log(w, u, p);
      });

      window.addEventListener("click", function(e){
        if(e.target.dataset && e.target.dataset.id){
          private
            .doc(e.target.dataset.id)
            .delete()
            .then(function() {
              console.log("Document successfully deleted!");
              window.location.reload(true);
            })
            .catch(function(error) {
              console.error("Error removing document: ", error);
            });
        }
      });

    </script>
    <script>

    var website = document.getElementById("website");
    var keyword1 = document.getElementById("keyword1");
    var keyword2 = document.getElementById("keyword2");
    var output = document.getElementById("output");
    var generate = document.getElementById("generate");


    generate.addEventListener("click", function(){
      var joined = website.value.trim() + keyword1.value.trim() + keyword2.value.trim();
      var shaObj = new jsSHA("SHA-512", "TEXT");
          shaObj.update(joined);
      var hash = shaObj.getHash("HEX");
          //hash = hash.toString();
      var str = '';
      var rtest = false;
      
      function hashToString(inputHash){
        console.log(inputHash);
        str = '';
        for(var i = 0; i < 32; i += 2){
          var bob = parseInt(inputHash.substr(i,2), 16);
          bob = 33 + (bob % 94);
          str += String.fromCharCode(bob);
        }
        return str;
      } 
      

      while(!rtest){   
        str = hashToString(hash);
        rtest = /^(?=(.*\d){2})(?=(.*[a-z]){2})(?=(.*[A-Z]){2})(?=(.*([\u0021-\u002F]|[\u003A-\u0040]|[\u005B-\u0060]|[\u007B-\u007E])){2})/.test(str);
        shaObj = new jsSHA("SHA-512", "TEXT");
        shaObj.update(str);
        hash = shaObj.getHash("HEX");
        hash = hash.toString();
      }

      output.value = str;  
    });

    var reveal1 = document.getElementById("reveal1");
    reveal1.addEventListener("click", function(){

      if(keyword1.getAttribute("type") == "password"){
        keyword1.setAttribute("type", "text");
      }else{
        keyword1.setAttribute("type", "password");
      }

    });

    var reveal2 = document.getElementById("reveal2");
    reveal2.addEventListener("click", function(){

      if(keyword2.getAttribute("type") == "password"){
        keyword2.setAttribute("type", "text");
      }else{
        keyword2.setAttribute("type", "password");
      }

    });


    var info = document.getElementById("info");
    var clipboard = new Clipboard('#copy');

    clipboard.on('success', function(e) {
        info.innerHTML = "copied to clipboard";
    });



    </script>

</body>

</html>
